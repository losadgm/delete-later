ifndef::imagesdir[:imagesdir: ../images]

[[section-context-and-scope]]
== Context and Scope

ifdef::arc42help[]
[role="arc42help"]
****
.Contents
Context and scope - as the name suggests - delimits your system (i.e. your scope) from all its communication partners
(neighboring systems and users, i.e. the context of your system). It thereby specifies the external interfaces.

If necessary, differentiate the business context (domain specific inputs and outputs) from the technical context (channels, protocols, hardware).

.Motivation
The domain interfaces and technical interfaces to communication partners are among your system's most critical aspects. Make sure that you completely understand them.

.Form
Various options:

* Context diagrams
* Lists of communication partners and their interfaces.

.Further Information
See https://docs.arc42.org/section-3/[Context and Scope] in the arc42 documentation.
****
endif::arc42help[]

=== Business Context

ifdef::arc42help[]
[role="arc42help"]
****
.Contents
Specification of *all* communication partners (users, IT-systems, ...) with explanations of domain specific inputs and outputs or interfaces.

.Motivation
All stakeholders should understand which data are exchanged with the environment of the system.

.Form
All kinds of diagrams that show the system as a black box and specify the domain interfaces to communication partners.
Alternatively (or additionally) you can use a table.
****
endif::arc42help[]

The business context defines the external actors and how they interact with the YOVI system.
The system exposes two public API surfaces (user management and game interaction) and delegates core game validation / bot move selection to the internal Rust engine.

.Communication Partners
[options="header",cols="1,2,2"]
|===
| Communication Partner | Inputs | Outputs

| Human Player (Web client)
| Registration/login, game actions (moves), game configuration
| UI feedback, game state, personal profile and history

| External Client (Public User API consumer)
| Register/login, profile/history requests (JWT-based)
| JWT tokens, user/profile/history data

| External Client (Public Game API consumer)
| Game requests (create/join room, play), board state in YEN/JSON when required
| Game state updates, bot next move (when playing vs AI), error responses

| Operator (Project team / admin role)
| Service status queries (health) and basic operational requests
| Service status information and basic diagnostics
|===

==== Domain Interfaces

* *Web UI:* React-based interface for end-user interaction.
* *Public User API:* REST endpoints for registration/login and user profile/history.
* *Public Game API:* REST endpoints to interact with the game (including playing against the bot using JSON/YEN).

=== Technical Context

ifdef::arc42help[]
[role="arc42help"]
****
.Contents
Technical interfaces (channels and transmission media) linking your system to its environment. In addition a mapping of domain specific input/output to the channels, i.e. an explanation which I/O uses which channel.

.Motivation
Many stakeholders make architectural decision based on the technical interfaces between the system and its context. Especially infrastructure or hardware designers decide these technical interfaces.

.Form
E.g. UML deployment diagram describing channels to neighboring systems,
together with a mapping table showing the relationships between channels and input/output.
****
endif::arc42help[]

The technical context describes the protocols and communication channels between services and external clients.

==== Technical Interfaces and Channels

.Technical Interfaces and Channels
[options="header",cols="1,1,3"]
|===
| Interface | Channel / Protocol | Description

| Frontend ↔ Webapp-backend
| HTTP / REST
| The React application (Vite) communicates with the Node.js backend using REST endpoints.

| Frontend ↔ Webapp-backend (realtime)
| WebSocket
| Realtime channel used for gameplay/multiplayer events (when enabled).

| Webapp-backend ↔ gamey (Rust engine)
| HTTP / JSON (YEN)
| The Node.js service delegates game validation and bot move computation to the Rust engine.

| Webapp-backend ↔ users
| HTTP / REST
| Webapp-backend calls the users service for authentication/authorization and user-related operations.

| External clients ↔ users
| HTTP / REST
| Public user management API (register/login/profile/history).

| Users ↔ MariaDB
| MariaDB protocol
| Persistence of user data and credentials.
|===

==== Mapping of Inputs/Outputs to Channels

. *Access Management:* Login/registration requests are handled by the Users service, which returns a JWT on success.
. *Move Processing:* Game flow uses REST and/or WebSockets from client to Webapp-backend; bot move/validation is delegated to gamey via HTTP using JSON/YEN.
. *Persistence:* User data and history are persisted in MariaDB via the Users service; additional persistence responsibilities are TBD (if introduced later).
